<!doctype html>
<html  xmlns:th="http://www.thymeleaf.org" >
  <head>  
    <meta charset="utf-8"/>
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimal-ui,maximum-scale=1.0,user-scalable=0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black"/>
    <meta name="format-detection" content="telephone=no" />
    <link type="text/css" rel="stylesheet" href="/css/bootstrap.min.css"/>
    <link type="text/css" rel="stylesheet" href="/css/bootstrap-datepicker.min.css"/>
    <link type="text/css" rel="stylesheet" href="/css/index.css"/>
    <link rel="stylesheet" type="text/css" href="/js/jquery.multiselect.css" />
	<link rel="stylesheet" type="text/css" href="/js/jquery-ui.css" />
    <script type="text/javascript" src="/js/jquery.min.js"></script>    
    <script type="text/javascript" src="/js/jquery-form.js"></script>
    <script type="text/javascript" src="/js/bootstrap.min.js"></script>    
	<script type="text/javascript" src="/js/app.js"></script>
	<script type="text/javascript" src="/js/jquery.blockUI.js" ></script>
	<script type="text/javascript" src="/js/jquery.selectboxes.js"></script>
	<script type="text/javascript" src="/js/jquery.bgiframe.min.js"></script>
	<script type="text/javascript" src="/js/jquery-ui.min.js"></script>
	<script type="text/javascript" src="/js/jquery.multiselect.js"></script>
    <script type="text/javascript" src="/js/jquery.easyui.min.js"></script>
	<script src="/js/bootstrap-datepicker.min.js"></script>
    <script src="/js/bootstrap-datepicker.zh-CN.min.js"></script>
    <script type="text/javascript">
    </script>
    <title>渠道管理</title>
    <style>
    .modal-backdrop{z-index:1!important;}
    .q-w11 .table td {
    width: 11%;
    max-width: 120px;
    word-wrap: break-word;
	}
    /* .edui-default .edui-dialog-modalmask{z-index:1043!important;} */
    </style>
  </head>
  <body><!--[if lt IE 8]>
    <p class="browsehappy">
      You are using an <strong>outdated</strong> browser.
      Please <a href="http://browsehappy.com/">upgrade your browser</a>
      to improve your experience.
    </p><![endif]-->
    <div class="container q-firm">  
 <div th:include="cms/pagemodule::leftmenu"></div>
      <div class="container-fluid q-right">
        <div class="table-responsive q-w11">                                        
              <form id = "form" class="form-inline g-search" th:action="@{/run/cms/channel/select/channellistpage}" th:object="${runChannelListDTO}" th:method="post">                                                                              
				<input type="hidden" id="currentPage" th:field="*{currentPage}"/>  
				<input id="bopsFlag" name="bopsFlag" type="hidden" value="1"/>
				<p><a id="add" class="g-button" role="button" data-toggle="modal">添加渠道</a></p>           
            </form>          
              <h2 class="panel-title">渠道列表</h2>
              <br/>
              <table class="table table-bordered col-xs-11 text-center">
                <tr>                     
                  <td>渠道名称</td>
                  <td>渠道号</td>
                  <td>活动类型</td>
                  <td>自有平台</td>
                  <td>支付方式</td>
                  <td>渠道链接</td>
                  <td>操作</td>
                </tr>
                <tr th:if="${page eq null}">
					<td colspan="8">记录不存在</td>
				</tr>
                <tr th:if="!(${channellist.no} eq all)" th:each="channellist:${channellistPage}">
                  <td th:text="${channellist.name}"></td>	
                  <td th:text="${channellist.no}"></td>
                  <td th:switch="${channellist.type}">
	                <div th:switch="${channellist.type}">
		            	<p th:case="1">重疾</p>
		            	<p th:case="2">意外</p>
					</div>
                  </td>
                  <td th:switch="${channellist.OwnPlatForm}">
	                <div th:switch="${channellist.OwnPlatForm}">
		            	<p th:case="0">不是</p>
		            	<p th:case="1">是</p>
					</div>
                  </td>
                    <td th:switch="${channellist.pay}">
	                <div th:switch="${channellist.pay}">
	                	<p th:case="alipay">支付宝（网页版）</p>
	                	<p th:case="alipay_dk">支付宝代扣</p>
		            	<p th:case="alipay_app">支付宝APP</p>
		            	<p th:case="anthb">花呗分期（网页版）</p>
		            	<p th:case="wxpay">微信</p>
		            	<p th:case="wxpay_dk">微信</p>
		            	<p th:case="anthb_app">花呗分期APP</p>
		            	<p th:case="*">微信,支付宝</p>
					</div>
                  </td>                  
                  <td th:text="${channellist.url}"></td> 
                  <td><a role="button" id="edit" style="color:lightseagreen;" class="edit" th:value="${channellist.id}" data-toggle="modal">修改</a>&nbsp;&nbsp;<a role="button" id="deleteOne" class="deleteOne" th:value="${channellist.id}" style="color:lightseagreen;" data-toggle="modal">删除</a></td>
                </tr>
              </table>
              <div th:if="${page} != null"> 
				检索结果  <span th:text="${page.totalItem}"></span> 件
                <a class="query" id="first" th:value="1" href="javascript:void(0)">首页</a>
                <a id="prev" th:value="${page.currentPage-1}" href="javascript:void(0)">上一页</a>
                <span th:text="${page.currentPage}"></span> / <span th:text="${page.totalPage}"></span> 页
                <a id="next" th:value="${page.currentPage+1}" href="javascript:void(0)">下一页</a>
                <a class="query" id="last" th:value="${page.totalPage}" href="javascript:void(0)">尾页</a>
            </div>
          
              
       </div>     
    </div> 
</div>        

<!-- model -->
<div id="totalModal" class="modal fade addNewModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" style="z-index:2!important;">
    <div class="modal-dialog q-add-jfg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="exampleModalLabel">添加/修改活动</h4>
            </div>
            <div class="modal-body">
                <form id="eventForm" th:action="@{/run/cms/channel/updateorinset}" th:object="${runChannelListDTO}" th:method="post" onsubmit="return postData()" enctype="multipart/form-data">
                   <input id="bopsFlag" name="bopsFlag" type="hidden" value="1"/> 
                    <div class="form-group  col-xs-12" style="display:none">
                        <label for="channel-id" class="control-label">channel-id:</label>
                        <input type="text" class="form-control" id="channel-id" th:field="*{id}"/>
                    </div>                   
                    <div class="form-group col-xs-12">
                        <label for="name" class="control-label">渠道名称:</label>
                        <input type="text" class="form-control" id="name" th:field="*{name}" th:required="required"/>                    	                        
                    </div>
                    <div class="form-group  col-xs-12">
                        <label for="no" class="control-label">渠道号:</label>
                        <input type="text" class="form-control" id="no" th:field="*{no}" th:required="required"/>
                    </div>
                    <div class="form-group col-xs-12">
                        <label for="type" class="control-label">活动类型:</label>
                        <select class="form-control" id="type" th:field="*{type}">                        
	                     <option value="1">重疾</option>
	                     <option value="2">意外</option>	                    
                         </select>                      	                        
                    </div>
                     <div class="form-group  col-xs-12">
                        <label for="title" class="control-label">活动名称:</label>
                        <input type="text" class="form-control" id="title" th:field="*{title}" th:required="required"/>
                    </div>
                     <div class="form-group col-xs-12">
                     <label class="label-control col-xs-3">自有平台:</label>
                    <div style="line-height:40px;" class="col-xs-9">
                       <label class="radio-inline">
                            <input type="radio" name="OwnPlatFormOptions" id="OwnPlatForm1" class="ownPlatFormRadio" value="1" th:field="*{OwnPlatForm}" /><span>是</span>
                        </label>
                        <label class="radio-inline">
                            <input type="radio" name="OwnPlatFormOptions" id="OwnPlatForm2" class="ownPlatFormRadio" value="0" th:field="*{OwnPlatForm}" /><span>否</span>
                        </label>
                    </div> 
                    </div>  
                    <div class="form-group  col-xs-12">
						<label class="control-label">支付方式:</label> 
						<div class="controls">
							<select id="backConfigure" name="backConfigure"  style="width:540px; height:100px" multiple="multiple">
                                <option value="alipay">支付宝（网页版）</option>
                                <option value="alipay_dk">支付宝代扣</option>
                                <option value="alipay_app">支付宝APP</option>
                                <option value="anthb">花呗分期（网页版）</option>
								<option value="wxpay">微信</option>
								<option value="wxpay_dk">微信代扣</option>
                                <option value="anthb_app">花呗分期APP</option>
							</select>
							<input type="hidden" id="menu_namearray"/><input type="hidden" id="pay" name="pay" th:field="*{pay}"/>
						</div>
					</div>
					<div class="form-group col-xs-12">
                        <label for="moments_title" class="control-label">朋友圈标题:</label>
                        <input type="text" class="form-control" id="moments_title" th:field="*{momentsTitle}" maxlength ="150" th:required="required"/>
                    </div>
					 <div class="form-group col-xs-12">
	                    <label class="control-label col-xs-3">朋友圈图片:</label>
	                    <div class="col-xs-9">
	                    	<div id="uploadImg" class="col-xs-5">
	                        </div>
	                        <div id="uploadPre" class="col-xs-5">
	                        	<img id="moments_url" width="100%"/>
	                        </div>
	                        <div class="col-xs-7">
		                        <p>大小  256k</p>
		                        <p style="height:20px;position:relative;">
	                            	<input id="upload" type="file" class="img-input" th:field="*{marketingImgFile}"/>
	                                <a href="javascript:void(0)" id="sabe" class="g-button">上传</a>
	                        	</p>
	                        </div>
	                  	</div>
                	</div>
                      <div class="form-group col-xs-12">
                        <label for="friend_title" class="control-label">好友标题:</label>
                        <input type="text" class="form-control" id="friend_title" th:field="*{friendTitle}" maxlength ="150" th:required="required"/>
                    </div>
                    <div class="form-group col-xs-12">
                        <label for="friend_describe" class="control-label">好友描述:</label>
                        <input type="text" class="form-control" id="friend_describe" th:field="*{friendDescribe}" th:required="required"/>
                    </div>
                     <div class="form-group col-xs-12">
	                    <label class="control-label col-xs-3">好友图片:</label>
	                    <div class="col-xs-9">
	                    	<div id="uploadTwoImg" class="col-xs-5">
	                        </div>
	                        <div id="uploadTwoPre" class="col-xs-5">
	                        	<img id="friend_url" width="100%"/>
	                        </div>
	                        <div class="col-xs-7">
		                        <p>大小  256k</p>
		                        <p style="height:20px;position:relative;">
	                            	<input id="uploadTwo" type="file" class="img-input" th:field="*{marketingImgFileTwo}"/>
	                                <a href="javascript:void(0)" id="sabe" class="g-button">上传</a>
	                        	</p>
	                        </div>
	                  	</div>
                	</div>                    
                    <div class="form-group col-xs-12">
                        <label for="url" class="control-label">分享链接:</label>
                        <input type="text" class="form-control" id="url" th:field="*{url}" th:required="required"/>
                    </div>    
                     <div class="form-group col-xs-12">
                     <label class="label-control col-xs-3">展示我已领取:</label>
                    <div style="line-height:40px;" class="col-xs-9">
                       <label class="radio-inline">
                            <input type="radio" name="isGetFlagOptions" id="isGetFlag1" class="isGetFlagRadio" value="1" th:field="*{isGetFlag}" /><span>是</span>
                        </label>
                        <label class="radio-inline">
                            <input type="radio" name="isGetFlagOptions" id="isGetFlag2" class="isGetFlagRadio" value="0" th:field="*{isGetFlag}" /><span>否</span>
                        </label>
                    </div> 
                    </div>                
                 <div style="text-align:center;" class="form-group modal-footer col-xs-6">
                 <input type="submit" id="save" placeholder="600" value="保存"/><br/><input type="hidden" id ="inputcontent" />
                </div>
                </form>
            </div>
        </div>
    </div>
</div>
  <script type="text/javascript" src="/js/channel.js"></script> 
  </body>
</html>